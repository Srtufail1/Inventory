generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  name         String
  email        String   @unique
  password     String
  isAdmin      Boolean  @default(false)
  isSuperAdmin Boolean  @default(false)
  loginToken   String?  @default("false")
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model Inward {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId
  addDate       DateTime
  inumber       String
  customer      String
  item          String
  packing       String
  weight        String
  quantity      String
  store_rate    String
  labour_rate   String

  @@index([customer])
  @@index([inumber])
  @@index([addDate])
}

model Outward {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId
  outDate       DateTime
  onumber       String
  inumber       String
  customer      String
  item          String
  quantity      String

  @@index([customer])
  @@index([inumber])
  @@index([outDate])
}

model Note {
  id          String    @id @default(auto()) @map("_id") @db.ObjectId
  type        String    // "old_inward", "old_outward", "general", "memo"
  title       String
  description String
  customer    String?
  inumber     String?
  item        String?
  quantity    String?
  date        DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  @@index([customer])
  @@index([type])
  @@index([inumber])
}
